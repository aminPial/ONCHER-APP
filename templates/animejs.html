<!doctype html>
<html>
<head>
    <link rel="stylesheet" type="text/css" media="all" href="css/reset.css"/> <!-- reset css -->
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
    <style>
        body {
            background-color: ivory;
        }

        canvas {
            border: 1px solid red;
        }
    </style>
    <script>
        $(function () {

            let canvas = document.getElementById("canvas");
            let ctx = canvas.getContext("2d");
            let BB = canvas.getBoundingClientRect();
            let offsetX = BB.left;
            let offsetY = BB.top;

            let lastX, lastY;
            let isDown = false;

            canvas.onmousedown = handleMousedown;
            canvas.onmousemove = handleMousemove;
            canvas.onmouseup = handleMouseup;


            function handleMousedown(e) {
                e.preventDefault();
                e.stopPropagation();
                lastX = e.clientX - offsetX;
                lastY = e.clientY - offsetY;
                isDown = true;
            }

            function handleMouseup(e) {
                e.preventDefault();
                e.stopPropagation();
                isDown = false;
            }

            function handleMousemove(e) {
                e.preventDefault();
                e.stopPropagation();

                if (!isDown) {
                    return;
                }

                let mouseX = e.clientX - offsetX;
                let mouseY = e.clientY - offsetY;

                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(mouseX, mouseY);
                ctx.stroke();

                lastX = mouseX;
                lastY = mouseY;
            }


        }); // end $(function(){});
    </script>
</head>
<body>
<h4>Drag mouse to draw.</h4>
<canvas id="canvas" width=300 height=300></canvas>
</body>